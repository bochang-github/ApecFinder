# -*- coding: utf-8 -*-
"""
Created on Wed Oct  2 15:46:13 2019

@author: BC40966N
"""

# Import the pytest package

##import unittest #module ok for EDF PC
import pytest

# Import the function convert_to_int()
from apec_parsedata_v2 import link

# Complete the unit test name by adding a prefix
def test_link():
 # Complete the assert statement
  assert link(164319956, 164319957) == ['https://cadres.apec.fr/cms/webservices/offre/public?numeroOffre=164319956W']

#['https://cadres.apec.fr/cms/webservices/offre/public?numeroOffre=164319956W']
#r= {'https://cadres.apec.fr/cms/webservices/offre/public?numeroOffre=164319956W': {'adresseOffre': {'adresseCodePostal': '59262', 'adresseNumeroEtVoie': '1495 RUE DE LILLE', 'adresseVille': 'SAINGHIN EN MELANTOIS', 'idPays': 799, 'id': 129049390}, 'audit': {'dateModification': '2019-10-02T14:49:41.000+0000'}, 'comptePersonnelIdNomOrganisation': 200182, 'datePublication': '2019-10-02T14:49:41.000+0000', 'datePremierePublication': '2019-06-14T07:56:22.000+0000', 'id': 164319956, 'idEtablissement': 584951, 'idInterlocuteurDirect': 100070496, 'idNomFonction': 101805, 'idNomNiveauExperience': 597151, 'idNomSecteurActivite': 101606, 'idSecteurActiviteParent': 101762, 'idNomStatut': 101872, 'idNomOrigine': 101859, 'idNomTypeContrat': 101888, 'idNomTypePoste': 101900, 'idNomZoneDeplacement': 596720, 'idResponsable': '999993', 'intitule': "Chargé(e) d'immigration F/H", 'lieux': [{'idNomLieu': 590719, 'libelleLieu': 'Paris 09 - 75'}], 'legacyLieux': False, 'logoEtablissement': '/media_entreprise/584951/logo_COOPTALIS_584951_894804.png', 'nombrePostes': 1, 'nomCompteEtablissement': 'COOPTALIS', 'nomInterlocuteur': 'Haelewyn', 'numeroOffre': '164319956W', 'offreConfidentielle': False, 'offreQualifiee': True, 'prenomInterlocuteur': 'Mathilde', 'referenceClientOffre': 'IMMIJParis', 'salaireTexte': 'A partir de 27 k€ brut annuel', 'tempsPartiel': False, 'texteHtml': '<p style="text-align:justify; margin:0cm 0cm 0.0001pt"><strong><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><i><span style="font-size:10.0pt"><span style="line-height:150%">Nous recrutons notre futur(e) chargé(e) d\'immigration H/F à Paris (9e) - Date de démarrage flexible aux alentours du mois de janvier.&nbsp;</span></span></i></span></span></span></strong></p><p style="text-align:justify; margin:0cm 0cm 0.0001pt">&nbsp;</p><p style="text-align:justify; margin:0cm 0cm 0.0001pt"><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><span style="font-size:10.0pt"><span style="line-height:150%">Vous aurez la chance de rejoindre notre pôle Immigration en plein développement, qui vit actuellement un contexte de construction continue, constitué d’une équipe de six sympathiques experts, ultra – professionnels tout en étant hyper cools&nbsp;!</span></span></span></span></span></p><p style="text-align:justify; margin:0cm 0cm 0.0001pt">&nbsp;</p><p style="text-align:justify; margin:0cm 0cm 0.0001pt"><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><span style="font-size:10.0pt"><span style="line-height:150%">Au sein d’un environnement international, vous jouerez un rôle absolument clé pour nos clients, qui compteront sur votre expertise pour accompagner leurs collaborateurs étrangers en phase d’impatriation en France, sur toute la partie immigration, afin que l’arrivée se fasse de façon la plus sereine possible.</span></span></span></span></span></p><p style="text-align:justify; margin:0cm 0cm 0.0001pt">&nbsp;</p><p style="text-align:justify; margin:0cm 0cm 0.0001pt"><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><span style="font-size:10.0pt"><span style="line-height:150%">Après une période d’immersion et de formation, vous intervenez dans la gestion opérationnelle des dossiers d’impatriation ainsi que sur le développement et la structuration de notre offre de service&nbsp;;</span></span></span></span></span></p><ul><li style="margin-bottom:.0001pt; text-align:justify; margin:0cm 0cm 0.0001pt 36pt"><span style="font-size:11pt"><span style="line-height:150%"><span style="font-family:Calibri,sans-serif"><span style="font-size:10.0pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:">Vous gérez la prise en charge opérationnelle des dossiers d’immigration inbound&nbsp;:&nbsp;qualification de la procédure, conseil sur la faisabilité, suivi de l’avancée du dossier et prise en charge des éventuelles problématiques. </span></span></span></span></span></span></li><li style="margin-bottom:.0001pt; text-align:justify; margin:0cm 0cm 8pt 36pt"><span style="font-size:11pt"><span style="line-height:150%"><span style="font-family:Calibri,sans-serif"><span style="font-size:10.0pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:">Vous prenez activement part à l’amélioration continue de notre offre, et êtes force de proposition sur le sujet&nbsp;afin d’optimiser le fonctionnement du pôle.</span></span></span></span></span></span></li><li style="margin-bottom:.0001pt; text-align:justify; margin:0cm 0cm 8pt 36pt"><span style="font-size:11pt"><span style="line-height:150%"><span style="font-family:Calibri,sans-serif"><span style="font-size:10.0pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:">Vous assurez une veille juridique sur votre métier et suivez les évolutions légales dans ce domaine. </span></span></span></span></span></span></li></ul><p style="text-align:justify; margin:0cm 0cm 0.0001pt">&nbsp;</p><p style="text-align:justify; margin:0cm 0cm 0.0001pt"><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><span style="font-size:10.0pt"><span style="line-height:150%">Au quotidien, vous travaillez avec nos équipes internes (relocation, recrutement...) et organismes externes (CPAM, préfectures&nbsp;...)</span></span></span></span></span></p><p style="text-align:justify; margin:0cm 0cm 0.0001pt">&nbsp;</p><p style="text-align:justify; margin:0cm 0cm 0.0001pt"><span style="font-size:12pt"><span style="line-height:150%"><span helvetica="" neue="" style="font-family:"><span style="font-size:10.0pt"><span style="line-height:150%">Ces missions ne sont pas exhaustives et peuvent évoluer selon votre niveau de maîtrise et vos appétences, ainsi qu’en fonction des besoins de l’entreprise.</span></span></span></span></span></p>', 'typeCandidature': 'EMAIL_ONLY', 'offreSalon': False, 'latitude': 48.8771639, 'longitude': 2.3374635, 'geolocalisable': True, 'texteHtmlProfil': '<p style="text-align:justify; margin-right:0cm; margin-left:0cm"><span style="font-size:12pt"><span style="line-height:115%"><span new="" roman="" style="font-family:" times=""><span style="font-size:10.0pt"><span style="line-height:115%"><span helvetica="" neue="" style="font-family:">Le plus important pour nous, c\'est votre personnalité et votre motivation : état d\'esprit positif et enthousiasme, proactivité, team - player, adaptabilité, ouverture d\'esprit et enfin, simplicité sont des maître - mots pour réussir chez nous&nbsp;! </span></span></span></span></span></span></p><p style="text-align:justify; margin-right:0cm; margin-left:0cm"><span style="font-size:12pt"><span style="line-height:115%"><span new="" roman="" style="font-family:" times=""><span style="font-size:10.0pt"><span style="line-height:115%"><span helvetica="" neue="" style="font-family:">Vous avez déjà une <strong>première expérience</strong> dans le domaine de la mobilité internationale, et plus particulièrement dans l’impatriation, ce qui vous a permis d’acquérir une expertise technique dans la gestion des dossiers d’impatriation. </span></span></span></span></span></span></p><p style="text-align:justify; margin-right:0cm; margin-left:0cm"><span style="font-size:12pt"><span style="line-height:115%"><span new="" roman="" style="font-family:" times=""><span style="font-size:10.0pt"><span style="line-height:115%"><span helvetica="" neue="" style="font-family:">Votre anglais est excellent tant à l’oral qu’à l’écrit. D\'autres langues pratiquées et une expérience à l\'international sont de vrais atouts. </span></span></span></span></span></span></p>', 'texteHtmlEntreprise': "<p>Et si vous rejoigniez une aventure entrepreneuriale dont l’ambition est de devenir le leader de la mobilité internationale&nbsp;? Chez Cooptalis, nous pensons que le talent n'a pas de frontières&nbsp;!&nbsp;</p><p>Créée en 2012, Cooptalis est une jeune entreprise innovante spécialisée en mobilité internationale. Cooptalis&nbsp;offre une solution innovante&nbsp;en&nbsp;accompagnant&nbsp;les&nbsp;candidats dans leur projet d'expatriation et un service clé en mains aux entreprises&nbsp;: recrutement – procédures d’immigration – relocation – formation.</p><p>Travailler chez Cooptalis, c'est évoluer dans une entreprise multiculturelle qui véhicule au quotidien des valeurs fortes : diversité, audace, engagement et plaisir !</p>", 'datePrisePoste': '2019-12-29T23:00:00.000+0000', 'enseigne': 'COOPTALIS', 'affichageLogo': True, 'indicateurLm': False}}
#for name, item in html_tables.items():
#    html_lien = item["adresseUrlCandidature"]
#    
#    print(html_postal)
    
